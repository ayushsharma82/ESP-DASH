---
title: Color Picker Card
description: Learn how to implement and use the Color Picker Card component in ESP Dash. This interactive component allows users to select colors and returns hex values, perfect for LED control and display color management.
---

import { Callout } from 'nextra/components'
import ProCallout from '@/components/ProCallout';

# Color Picker Card

<ProCallout />

<img className="card-preview" src="/img/v4/color-picker.png" width="280px" alt="Color Picker Preview" />

With color picker card, you have an option to take an color input from user. This is particularly useful if you want to have an input for LED color, display color etc. Color picker card will return an `hex` string of color selected by user. 

A bit more info on `hex` color values if you are not familiar with it: [W3Schools Article](https://www.w3schools.com/html/html_colors_hex.asp)

## Initializer

```cpp
/* 
  Color Picker Card
  Valid Arguments: (ESPDash dashboard, Card Type, const char* name)
*/
Card card1(&dashboard, COLOR_PICKER_CARD, "Color Picker");
```

<br/>

## Callback

Color picker card requires a callback function which will be called when we receive a input from our dashboard. In our setup block, we will be calling our `attachCallback` function and provide a lambda (callback) function with a `const char*` (character array) argument. Whenever a user selects a color, this callback will be triggered with `hex` value of color.

<Callout>
You need to call the `update` function and `sendUpdates` immediately once you receive the value in callback. Otherwise user input will not be registered on dashboard and it will keep the card stuck in 'waiting' phase.
</Callout>

```cpp
/*
  We provide our attachCallback with a lambda function to handle incomming data
  Example Value: mon,tue,wed,thu,fri,sat,sun
*/
card1.attachCallback([&](const char* hex){
  Serial.println("[Card1] Color Picker Triggered: "+String(hex));
  card1.update(value);
  dashboard.sendUpdates();
});
```

<br/>

## Updater

You can also update the value inside color picker card using the same hex formula.

```cpp
card1.update(const char* value);
```

```cpp
card1.update(String value);
```

<br/>

## Reference

This is a reference sketch showing positions for intializer, callback and updater.

```cpp

...

/* Color picker card initializer */
Card colorpicker(&dashboard, COLOR_PICKER_CARD, "Color Picker 1");


void setup() {
  ...

  /* Color picker callback */
  colorpicker.attachCallback([&](const char* hex){
    Serial.println("Color picker callback triggered: "+String(hex));
    /* Color picker card updater - you need to update the color picker with latest value upon firing of callback */
    colorpicker.update(value);
    /* Send update to dashboard */
    dashboard.sendUpdates();
  });
}

void loop() {
  ...
}

```
