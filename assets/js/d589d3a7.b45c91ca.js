"use strict";(self.webpackChunkesp_dash_docs=self.webpackChunkesp_dash_docs||[]).push([[7924],{5680:(e,n,a)=>{a.d(n,{xA:()=>c,yg:()=>g});var t=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=t.createContext({}),d=function(e){var n=t.useContext(o),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},c=function(e){var n=d(e.components);return t.createElement(o.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},h=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(a),h=r,g=p["".concat(o,".").concat(h)]||p[h]||u[h]||i;return a?t.createElement(g,l(l({ref:n},c),{},{components:a})):t.createElement(g,l({ref:n},c))}));function g(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=h;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s[p]="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=a[d];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}h.displayName="MDXCreateElement"},4902:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var t=a(8168),r=(a(6540),a(5680));const i={title:"Getting Started",sidebar_label:"Getting Started",sidebar_position:4},l=void 0,s={unversionedId:"getting-started",id:"getting-started",title:"Getting Started",description:"To get started with ESP-DASH, we will be creating our basic example step by step and learn what each setup does:",source:"@site/docs/getting-started.md",sourceDirName:".",slug:"/getting-started",permalink:"/next/getting-started",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Getting Started",sidebar_label:"Getting Started",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/next/installation"},next:{title:"Examples",permalink:"/next/more-examples"}},o={},d=[{value:"Part 1: Include Dependencies",id:"part-1-include-dependencies",level:4},{value:"Part 2: Create AsyncWebServer Instance",id:"part-2-create-asyncwebserver-instance",level:4},{value:"Part 3: Attach ESP-DASH Instance",id:"part-3-attach-esp-dash-instance",level:4},{value:"Part 4: Create Cards",id:"part-4-create-cards",level:4},{value:"Part 5: Setup Block",id:"part-5-setup-block",level:4},{value:"Part 5: Loop Block",id:"part-5-loop-block",level:4},{value:"1. Updating Card Values",id:"1-updating-card-values",level:5},{value:"2. Sending updates to our Dashboard",id:"2-sending-updates-to-our-dashboard",level:5},{value:"Complete Loop Block:",id:"complete-loop-block",level:5},{value:"Final Code",id:"final-code",level:3}],c={toc:d},p="wrapper";function u(e){let{components:n,...a}=e;return(0,r.yg)(p,(0,t.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"To get started with ESP-DASH, we will be creating our ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/ayushsharma82/ESP-DASH/tree/master/examples/Basic"},"basic")," example step by step and learn what each setup does:"),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-1-include-dependencies"},"Part 1: Include Dependencies"),(0,r.yg)("p",null,"We have used conditional compilation in this part therefore the code will work for both ESP8266 & ESP32."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"#include <Arduino.h>\n#if defined(ESP8266)\n  /* ESP8266 Dependencies */\n  #include <ESP8266WiFi.h>\n  #include <ESPAsyncTCP.h>\n  #include <ESPAsyncWebServer.h>\n#elif defined(ESP32)\n  /* ESP32 Dependencies */\n  #include <WiFi.h>\n  #include <AsyncTCP.h>\n  #include <ESPAsyncWebServer.h>\n#endif\n#include <ESPDash.h>\n")),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-2-create-asyncwebserver-instance"},"Part 2: Create AsyncWebServer Instance"),(0,r.yg)("p",null,'Create an AsyncWebServer instance on default "80" port.'),(0,r.yg)("i",null,"Note: You are not restricted to a single dashboard. You can host as many dashboards as you want on multiple ports."),(0,r.yg)("br",null),(0,r.yg)("br",null),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"/* Start Webserver */\nAsyncWebServer server(80);\n")),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-3-attach-esp-dash-instance"},"Part 3: Attach ESP-DASH Instance"),(0,r.yg)("p",null,"Pass the AsyncWebServer instance to ESPDash's instance. Internally the ESPDash will hook to AsyncWebServer for handling all the networking tasks."),(0,r.yg)("i",null,"Note: You can still use the same AsyncWebServer instance for other tasks."),(0,r.yg)("br",null),(0,r.yg)("br",null),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"/* Attach ESP-DASH to AsyncWebServer */\nESPDash dashboard(&server); \n")),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-4-create-cards"},"Part 4: Create Cards"),(0,r.yg)("p",null,"In this step, we will creating ESP-DASH cards and passing our dasboard instance as a first argument so that they can add / remove themselves."),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"After we are done with this guide, Please take a look at Cards section to know more about the types of cards available to us.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},'/* \n  Dashboard Cards \n  Format - (Dashboard Instance, Card Type, Card Name, Card Symbol(optional) )\n*/\nCard temperature(&dashboard, TEMPERATURE_CARD, "Temperature", "\xb0C");\nCard humidity(&dashboard, HUMIDITY_CARD, "Humidity", "%");\n')),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-5-setup-block"},"Part 5: Setup Block"),(0,r.yg)("p",null,"In our setup block, we will be adding the usual WiFi connectivity stuff and then start our AsyncWebServer with ",(0,r.yg)("inlineCode",{parentName:"p"},"server.begin();"),"."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},'void setup() {\n  Serial.begin(115200);\n\n  /* Connect WiFi */\n  WiFi.mode(WIFI_STA);\n  WiFi.begin("ssid", "password");\n  if (WiFi.waitForConnectResult() != WL_CONNECTED) {\n      Serial.printf("WiFi Failed!\\n");\n      return;\n  }\n  Serial.print("IP Address: ");\n  Serial.println(WiFi.localIP());\n\n  /* Start AsyncWebServer */\n  server.begin();\n}\n')),(0,r.yg)("br",null),(0,r.yg)("h4",{id:"part-5-loop-block"},"Part 5: Loop Block"),(0,r.yg)("p",null,"In our loop block, we will be doing 2 things:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Updating card values"),(0,r.yg)("li",{parentName:"ol"},"Sending updates to our dashboard")),(0,r.yg)("h5",{id:"1-updating-card-values"},"1. Updating Card Values"),(0,r.yg)("p",null,"Remember the 'Cards' we created in 4th part? We will now access those cards by their variable and update them using the ",(0,r.yg)("inlineCode",{parentName:"p"},"update")," function which is provided with our card's class:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"temperature.update((int)random(0, 50));\n")),(0,r.yg)("h5",{id:"2-sending-updates-to-our-dashboard"},"2. Sending updates to our Dashboard"),(0,r.yg)("p",null,"Once we have updated values of our card(s), we will call the ",(0,r.yg)("inlineCode",{parentName:"p"},"sendUpdates()")," function of our dashboard instance and it will send new card values to every connected client in real time."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"dashboard.sendUpdates();\n")),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"Technically speaking, You can call these functions anywhere in your sketch, but for demonstration purposes we have called them in our loop block.")),(0,r.yg)("h5",{id:"complete-loop-block"},"Complete Loop Block:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},"void loop() {\n  /* Update Card Values */\n  temperature.update((int)random(0, 50));\n  humidity.update((int)random(0, 100));\n\n  /* Send Updates to our Dashboard (realtime) */\n  dashboard.sendUpdates();\n\n  /* \n    Delay is just for demonstration purposes in this example,\n    Replace this code with 'millis interval' in your final project.\n  */\n  delay(3000);\n}\n")),(0,r.yg)("br",null),(0,r.yg)("h3",{id:"final-code"},"Final Code"),(0,r.yg)("p",null,"That's it! Now we can just upload this sketch to our MCU and access the dashboard via it's IP address. ( Make sure to change the ",(0,r.yg)("inlineCode",{parentName:"p"},"ssid")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"password")," in our sketch according to your Access Point )"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},'/*\n  -----------------------\n  ESPDASH - Basic Example\n  -----------------------\n\n  Skill Level: Intermediate\n\n  In this example we will be creating a basic dashboard which consists \n  of some cards and then update them in realtime ( at 3s interval ).\n\n  Github: https://github.com/ayushsharma82/ESP-DASH\n  WiKi: https://ayushsharma82.github.io/ESP-DASH/\n\n  Works with both ESP8266 & ESP32\n*/\n\n#include <Arduino.h>\n#if defined(ESP8266)\n  /* ESP8266 Dependencies */\n  #include <ESP8266WiFi.h>\n  #include <ESPAsyncTCP.h>\n  #include <ESPAsyncWebServer.h>\n#elif defined(ESP32)\n  /* ESP32 Dependencies */\n  #include <WiFi.h>\n  #include <AsyncTCP.h>\n  #include <ESPAsyncWebServer.h>\n#endif\n#include <ESPDash.h>\n\n\n/* Your WiFi Credentials */\nconst char* ssid = ""; // SSID\nconst char* password = ""; // Password\n\n/* Start Webserver */\nAsyncWebServer server(80);\n\n/* Attach ESP-DASH to AsyncWebServer */\nESPDash dashboard(&server); \n\n/* \n  Dashboard Cards \n  Format - (Dashboard Instance, Card Type, Card Name, Card Symbol(optional) )\n*/\nCard temperature(&dashboard, TEMPERATURE_CARD, "Temperature", "\xb0C");\nCard humidity(&dashboard, HUMIDITY_CARD, "Humidity", "%");\n\n\nvoid setup() {\n  Serial.begin(115200);\n\n  /* Connect WiFi */\n  WiFi.mode(WIFI_STA);\n  WiFi.begin(ssid, password);\n  if (WiFi.waitForConnectResult() != WL_CONNECTED) {\n      Serial.printf("WiFi Failed!\\n");\n      return;\n  }\n  Serial.print("IP Address: ");\n  Serial.println(WiFi.localIP());\n\n  /* Start AsyncWebServer */\n  server.begin();\n}\n\nvoid loop() {\n  /* Update Card Values */\n  temperature.update((int)random(0, 50));\n  humidity.update((int)random(0, 100));\n\n  /* Send Updates to our Dashboard (realtime) */\n  dashboard.sendUpdates();\n\n  /* \n    Delay is just for demonstration purposes in this example,\n    Replace this code with \'millis interval\' in your final project.\n  */\n  delay(3000);\n}\n')))}u.isMDXComponent=!0}}]);